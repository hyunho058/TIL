# MySQL 위도, 경도 거리 계산



* 사이드 프로젝트를 진행하면서 목표 지점에서 가까운 순으로 데이터를 표시해 주는 기능이 필요하여, 위도와 경도 값으로 거리를 계산하는 쿼리를 이용 하여 원하는 데이터를 조회하였습니다. 

```sql
SELECT round(
                   6371 * acos(cos(radians(37.500643)) * cos(radians(trade_latitude)) * cos(radians(trade_longitude)
                   - radians(127.036377)) + sin(radians(37.500643)) * sin(radians(trade_latitude))), 5)
           AS distance,
       trade_latitude,
       trade_longitude
FROM store
ORDER BY distance;
```

결과 값에 `distance`단위는 `km` 입니다.

* 결과 화면

  <img src="https://user-images.githubusercontent.com/58923731/179773481-c534b864-345a-4e11-bbf9-4e3357a83e0b.png" alt="image" style="zoom:67%;" /> 

 